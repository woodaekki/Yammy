# Yammy 프로젝트 서비스 정보

## 소셜 인증 서비스

### Kakao OAuth
- **용도**: 카카오 소셜 로그인
- **설정 파일**: `Yammy-BE/yammy/src/main/resources/application.yml`, `Yammy-FE/.env`
- **환경변수**:
  - Backend: `KAKAO_REST_API_KEY`, `KAKAO_CLIENT_SECRET`, `KAKAO_REDIRECT_URI`
  - Frontend: `VITE_KAKAO_REST_API_KEY`
- **가입 정보**: [Kakao Developers](https://developers.kakao.com/)

## 클라우드 및 인프라 서비스

### 데이터베이스
- **MySQL**: 메인 데이터베이스 (v8.0.33)
- **Redis**: 캐시 및 세션 관리
- **설정**: `Yammy-BE/yammy/src/main/resources/application.yml`
- **환경변수**:
  - `DB_URL`, `DB_USERNAME`, `DB_PASSWORD` (Test 환경)
  - `PROD_DB_URL`, `PROD_DB_USERNAME`, `PROD_DB_PASSWORD` (운영 환경)
  - `SPRING_DATA_REDIS_HOST`, `SPRING_DATA_REDIS_PORT`, `SPRING_DATA_REDIS_PASSWORD`

### 메일 서비스
- **Gmail SMTP**: 이메일 인증 발송
- **Host**: smtp.gmail.com
- **Port**: 587
- **설정**: application.yml에서 환경변수로 관리
- **환경변수**: `SPRING_MAIL_USERNAME`, `SPRING_MAIL_PASSWORD`

### AWS S3
- **용도**: 파일 저장소
- **환경변수**: `AWS_ACCESS_KEY`, `AWS_SECRET_KEY`, `AWS_S3_BUCKET`, `AWS_REGION`
- **설정**: application.yml에서 환경변수로 관리

## 코드 컴파일 및 개발 도구

### Frontend (React + Vite)
- **빌드 도구**: Vite v7.1.7
- **패키지 관리**: npm
- **Node.js**: v20-slim
- **주요 의존성**:
  - React 19.1.1
  - React Router DOM 7.9.4
  - Axios 1.13.0
  - TossPayments SDK 2.4.0
  - Zustand 5.0.8 (상태관리)
  - Tailwind CSS 4.1.15
  - Firebase 12.4.0
  - Lucide React 0.553.0 (아이콘)
  - html2canvas 1.4.1
  - browser-image-compression 2.0.2

### Backend (Spring Boot + Gradle)
- **빌드 도구**: Gradle
- **Java 버전**: 17 (Eclipse Temurin)
- **Spring Boot 버전**: 3.5.6
- **주요 의존성**:
  - Spring Boot Starter Web, JPA, Security, Validation, Mail, Data Redis
  - MySQL Connector 8.0.33
  - JWT (jjwt) 0.11.5
  - Web3j 4.10.3 (Ethereum)
  - QueryDSL JPA 5.0.0
  - springdoc-openapi 2.7.0 (Swagger UI)
  - Spring Kafka
  - Firebase Admin 9.2.0
  - AWS S3 Spring Cloud 3.1.1
  - Retrofit2 2.9.0 (OpenAI API 호출용)

### AI Service (Python + FastAPI)
- **프레임워크**: FastAPI 0.119.1+
- **서버**: Uvicorn 0.38.0+
- **주요 의존성**:
  - pandas 2.3.3+
  - kbodata 0.2.3+ (KBO 데이터 수집)
  - Selenium 4.0.0+ (웹 스크래핑)
  - mysql-connector-python 9.5.0+
  - numpy 1.26.0+
  - python-dotenv 1.1.1+
  - webdriver-manager 4.0.2+

## 메시징 서비스

### Apache Kafka
- **용도**: 이벤트 스트리밍 및 메시지 큐
- **환경변수**:
  - `KAFKA_BOOTSTRAP_SERVERS`
  - `KAFKA_CONSUMER_GROUP`
  - `KAFKA_PRODUCER_ACKS`
  - `KAFKA_PRODUCER_RETRIES`
  - `KAFKA_AUTO_OFFSET_RESET`
- **설정**: application.yml에서 환경변수로 관리

## AI 서비스

### OpenAI GPT
- **용도**: AI 기반 챗봇 서비스
- **모델**: gpt-4o
- **환경변수**: `GMS_KEY`
- **설정**: application.yml에서 환경변수로 관리
- **백엔드 연동**: Retrofit2를 통한 API 호출

## 결제 서비스

### TossPayments
- **용도**: 결제 처리
- **SDK**: @tosspayments/tosspayments-sdk 2.4.0, @tosspayments/payment-sdk 1.9.1
- **환경변수**:
  - Backend: `TEST_SECRET_KEY`, `TOSS_URL`
  - Frontend: `VITE_TOSS_CLIENT_KEY`, `VITE_TOSS_CUSTOMER_KEY`

## 파일 저장 서비스

### Firebase Storage
- **용도**: 실시간 파일 저장 및 데이터베이스
- **환경변수**:
  - `VITE_FIREBASE_API_KEY`
  - `VITE_FIREBASE_AUTH_DOMAIN`
  - `VITE_FIREBASE_PROJECT_ID`
  - `VITE_FIREBASE_STORAGE_BUCKET`
  - `VITE_FIREBASE_MESSAGING_SENDER_ID`
  - `VITE_FIREBASE_APP_ID`
- **백엔드 설정**: firebase-service-account.json (classpath)
- **Storage Bucket**: yammy-chat-games.firebasestorage.app

### Pinata (IPFS)
- **용도**: NFT 메타데이터 분산 저장
- **Upload URL**: https://api.pinata.cloud/pinning/pinFileToIPFS
- **환경변수**:
  - `PINATA_API_KEY`
  - `PINATA_API_SECRET`
  - `PINATA_JWT`
  - `PINATA_GATEWAY`

## 블록체인 서비스

### Ethereum Sepolia Testnet
- **Network**: Sepolia
- **용도**: NFT 스마트 컨트랙트 배포 및 실행
- **Web3j**: 4.10.3
- **환경변수**:
  - Backend: `NFT_CONTRACT_ADDRESS`, `NFT_NETWORK`, `NFT_RPC_URL`, `NFT_PRIVATE_KEY`, `NFT_OWNER_ADDRESS`
  - Frontend: `VITE_NFT_CONTRACT_ADDRESS`, `VITE_NFT_NETWORK`, `VITE_NFT_CHAIN_ID`, `VITE_ETHERSCAN_URL`, `VITE_OPENSEA_URL`
- **RPC URL**: https://rpc.sepolia.org
- **지갑**: MetaMask 연동

## 보안 및 인증

### JWT
- **라이브러리**: jjwt 0.11.5
- **환경변수**:
  - `JWT_SECRET_KEY`
  - `JWT_ACCESS_EXPIRATION` (기본값: 900000ms = 15분)
  - `JWT_REFRESH_EXPIRATION` (기본값: 1209600000ms = 14일)

## 환경변수 목록

### Backend 필수 환경변수
```env
# 데이터베이스 (Test)
DB_URL
DB_USERNAME
DB_PASSWORD

# 데이터베이스 (운영)
PROD_DB_URL
PROD_DB_USERNAME
PROD_DB_PASSWORD

# Redis
SPRING_DATA_REDIS_HOST
SPRING_DATA_REDIS_PORT
SPRING_DATA_REDIS_PASSWORD

# 메일
SPRING_MAIL_USERNAME
SPRING_MAIL_PASSWORD

# JWT
JWT_SECRET_KEY
JWT_ACCESS_EXPIRATION
JWT_REFRESH_EXPIRATION

# AWS S3
AWS_ACCESS_KEY
AWS_SECRET_KEY
AWS_S3_BUCKET
AWS_REGION

# Kakao OAuth
KAKAO_REST_API_KEY
KAKAO_CLIENT_SECRET
KAKAO_REDIRECT_URI

# Pinata (IPFS)
PINATA_API_KEY
PINATA_API_SECRET
PINATA_JWT
PINATA_GATEWAY

# NFT/블록체인
NFT_CONTRACT_ADDRESS
NFT_NETWORK
NFT_RPC_URL
NFT_PRIVATE_KEY
NFT_OWNER_ADDRESS

# Toss Payments
TEST_SECRET_KEY
TOSS_URL

# OpenAI
GMS_KEY

# Kafka
KAFKA_BOOTSTRAP_SERVERS
KAFKA_CONSUMER_GROUP
KAFKA_PRODUCER_ACKS
KAFKA_PRODUCER_RETRIES
KAFKA_AUTO_OFFSET_RESET
```

### Frontend 필수 환경변수
```env
# 카카오
VITE_KAKAO_REST_API_KEY

# Toss Payments
VITE_TOSS_CLIENT_KEY
VITE_TOSS_CUSTOMER_KEY

# Firebase
VITE_FIREBASE_API_KEY
VITE_FIREBASE_AUTH_DOMAIN
VITE_FIREBASE_PROJECT_ID
VITE_FIREBASE_STORAGE_BUCKET
VITE_FIREBASE_MESSAGING_SENDER_ID
VITE_FIREBASE_APP_ID

# API
VITE_API_BASE_URL

# NFT/블록체인
VITE_NFT_CONTRACT_ADDRESS
VITE_NFT_NETWORK
VITE_NFT_CHAIN_ID
VITE_ETHERSCAN_URL
VITE_OPENSEA_URL
```

## 서비스 가입 및 설정 가이드

1. **Kakao Developers**: OAuth 2.0 소셜 로그인 API 키 발급
2. **Gmail**: SMTP 설정을 위한 앱 비밀번호 생성
3. **AWS S3**: 파일 저장소 버킷 생성 및 IAM 키 발급
4. **Firebase**: 프로젝트 생성 및 Storage 설정, Service Account JSON 다운로드
5. **OpenAI**: GPT API 키 발급 (gpt-4o 모델 사용)
6. **TossPayments**: 결제 서비스 계정 및 테스트 키 발급
7. **Pinata**: IPFS 파일 저장 서비스 계정 및 API 키 발급
8. **Sepolia Testnet**: MetaMask 지갑 생성 및 테스트넷 이더 수급

## 주의사항
- 모든 API 키와 시크릿은 환경변수로 관리하여 코드에 직접 노출되지 않도록 설정
- 운영/배포 환경: Gitlab CI/CD variables로 관리
- 로컬 개발 환경: `.env` 파일로 관리 (`.env.backend.example`, `.env.frontend.example` 참고)
- 프로덕션 환경에서는 각 서비스의 보안 설정을 강화하여 사용
- API 사용량 제한 및 비용 모니터링 필요
- Test 환경과 운영 환경의 DB 설정이 다르므로 CI/CD 파이프라인 설정 주의